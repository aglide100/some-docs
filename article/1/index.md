# CI/CD란


CI(`Continues Intergration`)과 CD(`Continues Delivery`)라는 용어는 생각보다 많이 듣어봤을 것이다.

이는 DevOps나 개발자라면 흔히 들어보았을 단어인데

직역하자면 지속성 통합과 지속적 배달이라고 해석할 수 있겠다.


복잡해진거 같지만 요는 원시 코드가 프로덕션까지 가는 여정을 고급지게 부르는 말이다.


# 🔍 어원?

1991년 Grady Booch에 의해서 처음 사용되었다고 알려진다. 이후 `Extreme programming`(xp)에서 본격적으로 사용된다고 한다.

# 🔑 Key Point

XP에서는 `Collective Code Ownership`에서 왜 CI가 필요한지를 설명한다.

<img src="./img/Collective Code Ownership.png">

http://www.extremeprogramming.org/rules/integrateoften.html

이를 설명하자면 xp에서는 개발자는 가능한 주기적으로 코드 저장소에 커밋해야한다고 한다.

그 이유는 여러가지가 있지만 가장 주된 요인은 호환성 문제를 피하기 위해서라고 한다.

원인은 여러가지가 있겠지만 코드 병합을 미룸으로서 오는 사이드 이펙트는 비용의 발생이라고 한다.

당연하겠지만 해당 케이스로 인한 비용 지불은 굉장히 소모적이고 피곤한 일이다.

<br>

이와 함께 등장하는 단어가 `Sequential Integration`(순차적 통합)이다.

이런말이 등장했다는것은 당연히 병렬로 코드를 병합하는 케이스가 있기 때문이다.

xp에서는 개발자가 코드를 병렬적으로 통합하는 일은 대부분 확인을 하지 않거나 단순한 믿음을 통해서 발생한다고 한다.

테스트 되지 않은 코드는 잠재적이거나 미시적으로 문제가 발생할 수도 있다고 한다.

따라서 빈번하게 테스트하고 코드를 통합하라는 것이 순차적 통합의 내용이라고 할 수 있다.

<br>

그리고 주요 개념으로서 `Collective Code Ownership`(집단적 코드 소유)를 이야기한다.

역기서는 모든 개발자가 어떠한 세그먼트에 대해서든 아이디어/버그/리팩토링을 위해서 코드를 변경할 수 있도록 장려하는 개념이다.

대부분의 아키텍처는 수석/리드 프로그래머 아키텍트의 의해서 아키텍처가 결정될 것이고 아키텍처에 대한 사항을 단 한명 혹은 소수의 사람이 가지고 있을 것이다.

이는 잘못된 패턴은 아니지만 좋든 싫든 이미 아키텍처에 대한 디자인은 팀의 전반적으로 분산되어 있더고 한다.

그렇다면 누구든 디자인 패턴을 변경해야 한다면 리드/수석 아키텍트에게 검증/권한을 받아야 하는가? 라고 하기에는 복잡한 문제가 된다.

<img src="./img/Fully Automated.png" height=300>

그렇기에 단위테스트를 통해 이를 해결하고자 한다.

자동화된 단위 테스트를 릴리스로 넘어가기 전 100% 통과를 목표로 한다면 `Continues Intergration`를 통해서 개발자는 이러한 문제에 대해서 넘어갈 수 있다고 한다.

## 요약

CI(지속적 통합)이 나오게 된 이유는 집단적 코드 소유에 대한 실현으로 단위 테스트 및 코드 저장소에 합치기 위해 사용한다.


# 📜 VCS

아키텍처에 대해서 신나게 얘기하다가 vcs로 틀어버렸는데

CI에서 가장 중요한 부분은 사실 Unit Test와 소스 코드를 어떻게 코드 저장소로 병합할 것인지가 가장 중요하다고 생각한다.